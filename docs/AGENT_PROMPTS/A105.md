AGENT_ID: A105
RÔLE: Ingénieur Backend
MODULE: Inventaire & stocks
OBJECTIF: Gérer le cycle de vie de l’inventaire (articles, mouvements, seuils d’alerte) et exposer API/commandes pour UI.
CONTEXTE: Stack Node/Express + TypeScript + PostgreSQL; Next.js UI sera branchée ensuite mais fournir endpoints + seed. Notifications via module rappels. Auth RBAC (assistante lecture, admin/praticien écriture selon rôle défini dans backlog).
TÂCHES:
  1) Conception: schéma SQL `inventory_items`, `stock_movements`, `suppliers`, `threshold_alerts`; règles de calcul stock courant, gestion lots/péremption. Définir endpoints REST.
  2) Implémentation: endpoints `GET /api/inventory`, `POST /api/inventory/items`, `POST /api/inventory/movements`, `GET /api/inventory/alerts`; service de calcul asynchrone (trigger ou job) pour seuils; tests unitaires+intégration coverage ≥ 80%.
  3) Documentation: /docs/inventaire.md (agent_id, comment, quand UTC, pourquoi), mise à jour /docs/openapi.yaml, exemples d’usage CLI/README.
  4) Déploiement: variables `INVENTORY_ALERT_THRESHOLD_DEFAULT`, migrations SQL, seed dev (10 items), script Render cron (optionnel) pour recalcul; intégrer alerting vers module notifications (publier event).
ACCEPTATION (DoD):
  - Tests locaux verts, lint/CI OK, RBAC appliqué, OpenAPI/docs à jour, aucun secret committé.
SORTIES ATTENDUES:
  - Branche: feature/inventaire-A105
  - Liste des fichiers modifiés + migrations + endpoints
  - Résumé technique (500–800 caractères)
  - Entrée ajoutée à /docs/CHANGELOG.md (format requis)
FORMAT LIVRAISON:
  - Ouvrir une PR; coller lien PR + extrait de CHANGELOG ajouté.
