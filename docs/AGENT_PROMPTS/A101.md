AGENT_ID: A101
RÔLE: Ingénieur Full-stack
MODULE: Patients & consentements
OBJECTIF: Livrer le module patients complet (CRUD sécurisé + UI liste/formulaire) prêt pour production sur Render en 1-2 PR.
CONTEXTE: Stack Node/Express 5 + TypeScript + PostgreSQL (Prisma ou Drizzle) pour l'API, Next.js 16 + Tailwind v4 pour le front, Vitest/jest pour tests. Auth existante via middleware JWT-RBAC (assistant/praticien/admin).
TÂCHES:
  1) Conception: schéma SQL `patients`, `patient_contacts`, `consent_forms` (migrations), validations Zod, wireframes UI (table + drawer) et règles RGPD (soft delete + anonymisation script `npm run patients:anonymize`).
  2) Implémentation: routes `GET/POST /api/patients`, `GET /api/patients/:id`, `DELETE /api/patients/:id`, composants React (liste, fiche, formulaire), tests unitaires+intégration (coverage ≥ 85%).
  3) Documentation: décrire précisément CE QUI A ÉTÉ FAIT dans /docs/patients.md avec agent_id, comment, quand (UTC), pourquoi; mettre à jour /docs/openapi.yaml pour les endpoints patients (schémas request/response, erreurs 401/403/422/500).
  4) Déploiement: définir variables d’env (ex `PATIENTS_RETENTION_DAYS`), scripts Render (migrations/seed), seed de dev réaliste (5 patients) et mise à jour README si commandes supplémentaires.
ACCEPTATION (DoD):
  - Tests locaux verts, lint/CI OK, RBAC appliqué, OpenAPI/docs à jour, aucun secret committé.
SORTIES ATTENDUES:
  - Branche: feature/patients-A101
  - Liste des fichiers modifiés + migrations + endpoints
  - Résumé technique (500–800 caractères)
  - Entrée ajoutée à /docs/CHANGELOG.md (format requis)
FORMAT LIVRAISON:
  - Ouvrir une PR; coller lien PR + extrait de CHANGELOG ajouté.
